{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zwill\\\\Dropbox\\\\My PC (Zach-top)\\\\Documents\\\\GitHub\\\\Exalendar-React\\\\exalendar\\\\src\\\\components\\\\ReactBigCalendar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport events from \"./events\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop';\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nmoment.locale(\"en-GB\");\nconst localizer = momentLocalizer(moment);\nconst DnDCalendar = withDragAndDrop(Calendar);\n_c = DnDCalendar;\nexport default function ReactBigCalendar() {\n  _s();\n  const [eventsData, setEventsData] = useState(events);\n  function setEvents(eventData) {\n    var data = [];\n    eventData = eventData.results;\n    for (let i = 0; i < Object.keys(eventData).length; i++) {\n      data.push({\n        id: eventData[i].class_id,\n        title: eventData[i].event_title,\n        description: eventData[i].event_description,\n        start: new Date(eventData[i].event_date_start),\n        end: new Date(eventData[i].event_date_end)\n      });\n    }\n    setEventsData(data);\n  }\n  useEffect(() => {\n    fetch(`http://localhost:4000/`).then(response => response.json()).then(actualData => setEvents(actualData));\n  }, []);\n  const moveEvent = useCallback(_ref => {\n    let {\n      event,\n      start,\n      end,\n      isAllDay: droppedOnAllDaySlot = false\n    } = _ref;\n    const {\n      allDay\n    } = event;\n    if (!allDay && droppedOnAllDaySlot) {\n      event.allDay = true;\n    }\n    setEventsData(prev => {\n      var _prev$find;\n      const existing = (_prev$find = prev.find(ev => ev.id === event.id)) !== null && _prev$find !== void 0 ? _prev$find : {};\n      const filtered = prev.filter(ev => ev.id !== event.id);\n      return [...filtered, {\n        ...existing,\n        start,\n        end,\n        allDay\n      }];\n    });\n  }, [setEventsData]);\n  const resizeEvent = useCallback(_ref2 => {\n    let {\n      event,\n      start,\n      end\n    } = _ref2;\n    setEventsData(prev => {\n      var _prev$find2;\n      const existing = (_prev$find2 = prev.find(ev => ev.id === event.id)) !== null && _prev$find2 !== void 0 ? _prev$find2 : {};\n      const filtered = prev.filter(ev => ev.id !== event.id);\n      return [...filtered, {\n        ...existing,\n        start,\n        end\n      }];\n    });\n  }, [setEventsData]);\n  const handleSelect = _ref3 => {\n    let {\n      start,\n      end\n    } = _ref3;\n    console.log(start);\n    console.log(end);\n    const title = window.prompt(\"New Event name\");\n    if (title) setEventsData([...eventsData, {\n      start,\n      end,\n      title\n    }]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(DnDCalendar, {\n      views: [\"day\", \"agenda\", \"work_week\", \"month\"],\n      selectable: true,\n      localizer: localizer,\n      defaultDate: new Date(),\n      defaultView: \"month\",\n      events: eventsData,\n      style: {\n        height: \"80vh\",\n        width: \"90vh\"\n      },\n      resizable: true,\n      onSelectEvent: event => alert(event.description),\n      draggableAccessor: event => true,\n      onEventDrop: moveEvent,\n      onEventResize: resizeEvent,\n      onSelectSlot: handleSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(ReactBigCalendar, \"Nku51wKN7oa+mJ4DppvQXi3akHk=\");\n_c2 = ReactBigCalendar;\nvar _c, _c2;\n$RefreshReg$(_c, \"DnDCalendar\");\n$RefreshReg$(_c2, \"ReactBigCalendar\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Calendar","momentLocalizer","moment","events","withDragAndDrop","locale","localizer","DnDCalendar","ReactBigCalendar","eventsData","setEventsData","setEvents","eventData","data","results","i","Object","keys","length","push","id","class_id","title","event_title","description","event_description","start","Date","event_date_start","end","event_date_end","fetch","then","response","json","actualData","moveEvent","event","isAllDay","droppedOnAllDaySlot","allDay","prev","existing","find","ev","filtered","filter","resizeEvent","handleSelect","console","log","window","prompt","height","width","alert"],"sources":["C:/Users/zwill/Dropbox/My PC (Zach-top)/Documents/GitHub/Exalendar-React/exalendar/src/components/ReactBigCalendar.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from \"moment\";\r\nimport events from \"./events\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop'\r\nimport 'react-big-calendar/lib/addons/dragAndDrop/styles.css'\r\n\r\nmoment.locale(\"en-GB\");\r\nconst localizer = momentLocalizer(moment);\r\n\r\nconst DnDCalendar = withDragAndDrop(Calendar)\r\n\r\nexport default function ReactBigCalendar() {\r\n  const [eventsData, setEventsData] = useState(events);\r\n\r\n  function setEvents(eventData) {\r\n    var data = [];\r\n    eventData = eventData.results;\r\n    for(let i=0; i < Object.keys(eventData).length; i++) {\r\n      data.push({\r\n        id: eventData[i].class_id,\r\n        title: eventData[i].event_title,\r\n        description: eventData[i].event_description,\r\n        start: new Date(eventData[i].event_date_start),\r\n        end: new Date(eventData[i].event_date_end)\r\n      })\r\n    }\r\n    setEventsData(data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetch(`http://localhost:4000/`)\r\n    .then((response) => response.json())\r\n    .then((actualData) => setEvents(actualData));\r\n   }, []);\r\n  \r\n\r\n  const moveEvent = useCallback(\r\n    ({ event, start, end, isAllDay: droppedOnAllDaySlot = false }) => {\r\n      const { allDay } = event\r\n      if (!allDay && droppedOnAllDaySlot) {\r\n        event.allDay = true\r\n      }\r\n\r\n      setEventsData((prev) => {\r\n        const existing = prev.find((ev) => ev.id === event.id) ?? {}\r\n        const filtered = prev.filter((ev) => ev.id !== event.id)\r\n        return [...filtered, { ...existing, start, end, allDay }]\r\n      })\r\n    },\r\n    [setEventsData]\r\n  )\r\n\r\n  const resizeEvent = useCallback(\r\n    ({ event, start, end }) => {\r\n        setEventsData((prev) => {\r\n        const existing = prev.find((ev) => ev.id === event.id) ?? {}\r\n        const filtered = prev.filter((ev) => ev.id !== event.id)\r\n        return [...filtered, { ...existing, start, end }]\r\n      })\r\n    },\r\n    [setEventsData]\r\n  )\r\n\r\n  const handleSelect = ({ start, end }) => {\r\n    console.log(start);\r\n    console.log(end);\r\n    const title = window.prompt(\"New Event name\");\r\n    if (title)\r\n      setEventsData([\r\n        ...eventsData,\r\n        {\r\n          start,\r\n          end,\r\n          title\r\n        }\r\n      ]);\r\n  };\r\n  return (\r\n    <div className=\"App\">\r\n      <DnDCalendar\r\n        views={[\"day\", \"agenda\", \"work_week\", \"month\"]}\r\n        selectable\r\n        localizer={localizer}\r\n        defaultDate={new Date()}\r\n        defaultView=\"month\"\r\n        events={eventsData}\r\n        style={{ height: \"80vh\", width: \"90vh\" }}\r\n        resizable={true}\r\n        onSelectEvent={(event) => alert(event.description)}\r\n        draggableAccessor={(event) => true}\r\n        onEventDrop={moveEvent}\r\n        onEventResize={resizeEvent}\r\n        onSelectSlot={handleSelect}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}